function GetURLParameter(e, t) { var n = e.search.substring(1); var r = n.split("&"); for (var i = 0; i < r.length; i++) { var s = r[i].split("="); if (s[0] == t) { return s[1] } } } if (!document.getElementsByClassName) { document.getElementsByClassName = function (e) { var t = new RegExp("(?:^|\\s)" + e + "(?:$|\\s)"); var n = document.getElementsByTagName("*"), r = [], i = "", s = 0, o; while (o = n[s = s + 1]) { i = o.className; if (i && i.indexOf(e) !== -1) { if (i === e) { r[r.length] = o; continue } t.test(i) ? r[r.length] = o : 0 } } return r } } var videos = $('a[href*="youtube.com"]'); for (var i = 0; i < videos.length; i++) { var youtube = videos[i]; var vDiv = document.createElement("div"); vDiv.className = "video-container"; var iframe = document.createElement("iframe"); iframe.setAttribute("src", "https://www.youtube.com/embed/" + GetURLParameter(youtube, "v") + "?autoplay=0&autohide=1&border=0&wmode=opaque&enablejsapi=1"); youtube.innerHTML = ""; vDiv.appendChild(iframe); youtube.appendChild(vDiv) } if (typeof jQuery != "undefined") { var filetypes = /\.(zip|exe|dmg|pdf|doc.*|xls.*|ppt.*|mp3|txt|rar|wma|mov|avi|wmv|flv|wav)$/i; var baseHref = ""; if (jQuery("base").attr("href") != undefined) baseHref = jQuery("base").attr("href"); var hrefRedirect = ""; jQuery("body").on("click", "a", function (e) { var t = jQuery(this); var n = true; var r = typeof t.attr("href") != "undefined" ? t.attr("href") : ""; var i = r.match(document.domain.split(".").reverse()[1] + "." + document.domain.split(".").reverse()[0]); if (!r.match(/^javascript:/i)) { var s = []; s.value = 0, s.non_i = false; if (r.match(/^mailto\:/i)) { s.category = "email"; s.action = "click"; s.label = r.replace(/^mailto\:/i, ""); s.loc = r } else if (r.match(filetypes)) { var o = /[.]/.exec(r) ? /[^.]+$/.exec(r) : undefined; s.category = "download"; s.action = "click-" + o[0]; s.label = r.replace(/ /g, "-"); s.loc = baseHref + r } else if (r.match(/^https?\:/i) && !i) { s.category = "external"; s.action = "click"; s.label = r.replace(/^https?\:\/\//i, ""); s.non_i = true; s.loc = r } else if (r.match(/^tel\:/i)) { s.category = "telephone"; s.action = "click"; s.label = r.replace(/^tel\:/i, ""); s.loc = r } else n = false; if (n) { var u = true; if ((s.category == "external" || s.category == "download") && (t.attr("target") == undefined || t.attr("target").toLowerCase() != "_blank")) { hrefRedirect = s.loc; ga("send", "event", s.category.toLowerCase(), s.action.toLowerCase(), s.label.toLowerCase(), s.value, { nonInteraction: s.non_i, hitCallback: gaHitCallbackHandler }); u = false } else { ga("send", "event", s.category.toLowerCase(), s.action.toLowerCase(), s.label.toLowerCase(), s.value, { nonInteraction: s.non_i }) } return u } } }); gaHitCallbackHandler = function () { window.location.href = hrefRedirect } }